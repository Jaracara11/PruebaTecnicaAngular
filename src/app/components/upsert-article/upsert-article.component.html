<div>
  <h2>{{ editMode ? "Editar Articulo" : "Agregar Articulo" }}</h2>
  <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
    <div *ngIf="!editMode" class="form-group">
      <label for="codigo">Codigo</label>
      <input
        type="text"
        class="form-control"
        id="codigo"
        formControlName="codigo"
      />
      <div
        *ngIf="
          editForm.get('codigo').invalid &&
          (editForm.get('codigo').dirty || editForm.get('codigo').touched)
        "
        class="text-danger"
      >
        <div *ngIf="editForm.get('codigo').errors.required">
          Codigo es requerido.
        </div>
        <div *ngIf="editForm.get('codigo').errors.minlength">
          Codigo debe tener al menos 3 caracteres.
        </div>
        <div *ngIf="editForm.get('codigo').errors.maxlength">
          Codigo no debe exceder los 50 caracteres.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input
        type="text"
        class="form-control"
        id="nombre"
        formControlName="nombre"
      />
      <div
        *ngIf="
          editForm.get('nombre').invalid &&
          (editForm.get('nombre').dirty || editForm.get('nombre').touched)
        "
        class="text-danger"
      >
        <div *ngIf="editForm.get('nombre').errors.required">
          Nombre es requerido.
        </div>
        <div *ngIf="editForm.get('nombre').errors.minlength">
          Nombre debe tener al menos 3 caracteres.
        </div>
        <div *ngIf="editForm.get('nombre').errors.maxlength">
          Nombre no debe exceder los 100 caracteres.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="tipo">Tipo</label>
      <input
        type="text"
        class="form-control"
        id="tipo"
        formControlName="tipo"
      />
      <div
        *ngIf="
          editForm.get('tipo').invalid &&
          (editForm.get('tipo').dirty || editForm.get('tipo').touched)
        "
        class="text-danger"
      >
        <div *ngIf="editForm.get('tipo').errors.required">
          Tipo es requerido.
        </div>
        <div *ngIf="editForm.get('tipo').errors.minlength">
          Tipo debe tener al menos 3 caracteres.
        </div>
        <div *ngIf="editForm.get('tipo').errors.maxlength">
          Tipo no debe exceder los 50 caracteres.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="marca">Marca</label>
      <input
        type="text"
        class="form-control"
        id="marca"
        formControlName="marca"
      />
      <div
        *ngIf="
          editForm.get('marca').invalid &&
          (editForm.get('marca').dirty || editForm.get('marca').touched)
        "
        class="text-danger"
      >
        <div *ngIf="editForm.get('marca').errors.required">
          Marca es requerida.
        </div>
        <div *ngIf="editForm.get('marca').errors.minlength">
          Marca debe tener al menos 2 caracteres.
        </div>
        <div *ngIf="editForm.get('marca').errors.maxlength">
          Marca no debe exceder los 50 caracteres.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="precio">Precio</label>
      <input
        type="number"
        step="0.01"
        class="form-control"
        id="precio"
        formControlName="precio"
        min="0.01"
        max="99999999"
      />
      <div
        *ngIf="
          editForm.get('precio').invalid &&
          editForm.get('precio').errors.required &&
          (editForm.get('precio').dirty || editForm.get('precio').touched)
        "
        class="text-danger"
      >
        Precio es requerido y debe ser una cantidad valida.
      </div>
      <div
        *ngIf="
          editForm.get('precio').invalid &&
          !editForm.get('precio').errors.required &&
          (editForm.get('precio').dirty || editForm.get('precio').touched)
        "
        class="text-danger"
      >
        Precio debe ser un n√∫mero.
      </div>
      <div
        *ngIf="
          editForm.get('precio').invalid &&
          editForm.get('precio').errors.min &&
          (editForm.get('precio').dirty || editForm.get('precio').touched)
        "
        class="text-danger"
      >
        Precio debe ser mayor a 0.01.
      </div>
      <div
        *ngIf="
          editForm.get('precio').invalid &&
          editForm.get('precio').errors.max &&
          (editForm.get('precio').dirty || editForm.get('precio').touched)
        "
        class="text-danger"
      >
        Precio debe ser menor a 99999999.
      </div>
    </div>

    <div class="row">
      <div>
        <button type="submit" class="btn btn-primary">
          {{ editMode ? "Guardar" : "Agregar" }}
        </button>
      </div>
      <div *ngIf="editMode">
        <button type="button" class="btn btn-danger" (click)="deleteArticle()">
          Borrar
        </button>
      </div>
    </div>
  </form>
</div>
